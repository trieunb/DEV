!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";a.fn.fileinputLocales={};var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba;b=".fileinput",c=window.URL||window.webkitURL,d=function(a,b,c){return void 0!==a&&(c?a===b:a.match(b))},e=function(a){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===a)return new RegExp("msie\\s"+a,"i").test(navigator.userAgent);var b,c=document.createElement("div");return c.innerHTML="<!--[if IE "+a+"]> <i></i> <![endif]-->",b=c.getElementsByTagName("i").length,document.body.appendChild(c),c.parentNode.removeChild(c),b},f=function(){return new RegExp("Edge/[0-9]+","i").test(navigator.userAgent)},g=function(a,c,d,e){var f=e?c:c.split(" ").join(b+" ")+b;a.off(f).on(f,d)},h={data:{},init:function(a){var b=a.initialPreview,c=a.id;b.length>0&&!X(b)&&(b=b.split(a.initialPreviewDelimiter)),h.data[c]={content:b,config:a.initialPreviewConfig,tags:a.initialPreviewThumbTags,delimiter:a.initialPreviewDelimiter,template:a.previewGenericTemplate,msg:function(b){return a._getMsgSelected(b)},initId:a.previewInitId,footer:a._getLayoutTemplate("footer").replace(/\{progress}/g,a._renderThumbProgress()),isDelete:a.initialPreviewShowDelete,caption:a.initialCaption,actions:function(b,c,d,e,f){return a._renderFileActions(b,c,d,e,f)}}},fetch:function(a){return h.data[a].content.filter(function(a){return null!==a})},count:function(a,b){return h.data[a]&&h.data[a].content?b?h.data[a].content.length:h.fetch(a).length:0},get:function(b,c,d){var e,f,g="init_"+c,i=h.data[b],j=i.config[c],k=i.initId+"-"+g,l=" file-preview-initial";return d=void 0===d||d,null===i.content[c]?"":(W(j)||W(j.frameClass)||(l+=" "+j.frameClass),e=i.template.replace(/\{previewId}/g,k).replace(/\{frameClass}/g,l).replace(/\{fileindex}/g,g).replace(/\{content}/g,i.content[c]).replace(/\{footer}/g,h.footer(b,c,d)),i.tags.length&&i.tags[c]&&(e=aa(e,i.tags[c])),W(j)||W(j.frameAttr)||(f=a(document.createElement("div")).html(e),f.find(".file-preview-initial").attr(j.frameAttr),e=f.html(),f.remove()),e)},add:function(b,c,d,e,f){var g,i=a.extend(!0,{},h.data[b]);return X(c)||(c=c.split(i.delimiter)),f?(g=i.content.push(c)-1,i.config[g]=d,i.tags[g]=e):(g=c.length,i.content=c,i.config=d,i.tags=e),h.data[b]=i,g},set:function(b,c,d,e,f){var g,i,j=a.extend(!0,{},h.data[b]);if(c&&c.length&&(X(c)||(c=c.split(j.delimiter)),i=c.filter(function(a){return null!==a}),i.length)){if(void 0===j.content&&(j.content=[]),void 0===j.config&&(j.config=[]),void 0===j.tags&&(j.tags=[]),f){for(g=0;g<c.length;g++)c[g]&&j.content.push(c[g]);for(g=0;g<d.length;g++)d[g]&&j.config.push(d[g]);for(g=0;g<e.length;g++)e[g]&&j.tags.push(e[g])}else j.content=c,j.config=d,j.tags=e;h.data[b]=j}},unset:function(a,b){var c=h.count(a);if(c){if(1===c)return h.data[a].content=[],void(h.data[a].config=[]);h.data[a].content[b]=null,h.data[a].config[b]=null}},out:function(a){var b,c="",d=h.data[a],e=h.count(a,!0);if(0===e)return{content:"",caption:""};for(var f=0;e>f;f++)c+=h.get(a,f);return b=d.msg(h.count(a)),{content:c,caption:b}},footer:function(a,b,c){var d=h.data[a];if(c=void 0===c||c,0===d.config.length||W(d.config[b]))return"";var e=d.config[b],f=Y("caption",e)?e.caption:"",g=Y("width",e)?e.width:"auto",i=!!Y("url",e)&&e.url,j=Y("key",e)?e.key:null,k=i===!1&&c,l=d.isDelete?d.actions(!1,!0,k,i,j):"",m=d.footer.replace(/\{actions}/g,l);return m.replace(/\{caption}/g,f).replace(/\{width}/g,g).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},i=function(a,b){return b=b||0,"number"==typeof a?a:("string"==typeof a&&(a=parseFloat(a)),isNaN(a)?b:a)},j=function(){return!(!window.File||!window.FileReader)},k=function(){var a=document.createElement("div");return!e(9)&&!f()&&(void 0!==a.draggable||void 0!==a.ondragstart&&void 0!==a.ondrop)},l=function(){return j()&&window.FormData},m=function(a,b){a.removeClass(b).addClass(b)},n='style="width:{width};height:{height};"',o='      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n',p='<div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',q={removeIcon:'<i class="icon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="icon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},r='{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',s='{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',t='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n <div class="file-chooser"></div>\n   <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',v='<div class="close fileinput-remove">&times;</div>\n',u='<span class="icon-file-empty2"></span>',w='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',x='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</button>',y='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</a>',z='<div tabindex="500" class="{css}" {status}>{icon}{label}</div>',A='<div id="{id}" class="file-preview-detail-modal modal fade" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3 class="modal-title">{heading} <small>{title}</small></h3>\n      </div>\n      <div class="modal-body">\n           <pre>{body}</pre>\n      </div>\n    </div>\n  </div>\n</div>',B='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',C='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}</div>\n    {progress} {actions}\n</div>',D='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload}{delete}{other}    </div>\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',E='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',F='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">   {uploadIcon}\n</button>\n',G='<button type="button" class="btn btn-default btn-xs btn-block" title="{zoomTitle}: {caption}" onclick="{dialog}">\n   {zoomInd}\n</button>\n',H='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   {content}\n   {footer}\n</div>\n',I='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n    <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       '+p+"\n    </object>\n   {footer}\n</div>",J='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <img src="{data}" class="file-preview-image" title="{caption}" alt="{caption}" '+n+">\n   {footer}\n</div>\n",K='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <pre class="file-preview-text" title="{caption}" '+n+">{data}</pre>\n   {zoom}\n   {footer}\n</div>",L='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+n+'>\n   <video width="{width}" height="{height}" controls>\n       <source src="{data}" type="{type}">\n       '+p+"\n   </video>\n   {footer}\n</div>\n",M='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+n+'>\n   <audio controls>\n       <source src="{data}" type="{type}">\n       '+p+"\n   </audio>\n   {footer}\n</div>",N='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+n+'>\n   <object class="file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+o+"       "+p+"\n   </object>\n   {footer}\n</div>\n",O='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+n+'>\n   <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <param name="movie" value="{caption}" />\n'+o+"         "+p+"\n   </object>\n   {footer}\n</div>",P='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+n+'>\n   <div class="file-preview-other-frame">\n   '+p+'\n   </div>\n   <div class="file-preview-other-footer">{footer}</div>\n</div>',Q={main1:r,main2:s,preview:t,close:v,zoom:G,icon:u,caption:w,modal:A,progress:B,footer:C,actions:D,actionDelete:E,actionUpload:F,btnDefault:x,btnLink:y,btnBrowse:z},R={generic:H,html:I,image:J,text:K,video:L,audio:M,flash:N,object:O,other:P},S=["image","html","text","video","audio","flash","object"],T={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"160px",height:"136px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},V={image:function(a,b){return d(a,"image.*")||d(b,/\.(gif|png|jpe?g)$/i)},html:function(a,b){return d(a,"text/html")||d(b,/\.(htm|html)$/i)},text:function(a,b){return d(a,"text.*")||d(a,/\.(xml|javascript)$/i)||d(b,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(a,b){return d(a,"video.*")&&(d(a,/(ogg|mp4|mp?g|webm|3gp)$/i)||d(b,/\.(og?|mp4|webm|mp?g|3gp)$/i))},audio:function(a,b){return d(a,"audio.*")&&(d(a,/(ogg|mp3|mp?g|wav)$/i)||d(b,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(a,b){return d(a,"application/x-shockwave-flash",!0)||d(b,/\.(swf)$/i)},object:function(a,b){return d(a,"application/pdf",!0)||d(b,/\.(pdf)$/i)},other:function(){return!0}},W=function(b,c){return void 0===b||null===b||0===b.length||c&&""===a.trim(b)},X=function(a){return Array.isArray(a)||"[object Array]"===Object.prototype.toString.call(a)},Y=function(a,b){return"object"==typeof b&&a in b},Z=function(b,c,d){return W(b)||W(b[c])?d:a(b[c])},$=function(){return Math.round((new Date).getTime()+100*Math.random())},_=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},aa=function(b,c){var d=b;return c?(a.each(c,function(a,b){"function"==typeof b&&(b=b()),d=d.split(a).join(b)}),d):d},ba=function(a){var b=a.is("img")?a.attr("src"):a.find("source").attr("src");c.revokeObjectURL(b)},U=function(b,c){var d=this;d.$element=a(b),d._validate()&&(d.isPreviewable=j(),d.isIE9=e(9),d.isIE10=e(10),d.isPreviewable||d.isIE9?(d._init(c),d._listen()):d.$element.removeClass("file-loading"))},U.prototype={constructor:U,_init:function(b){var c,d=this,e=d.$element;a.each(b,function(a,b){switch(a){case"minFileCount":case"maxFileCount":case"maxFileSize":d[a]=i(b);break;default:d[a]=b}}),W(d.allowedPreviewTypes)&&(d.allowedPreviewTypes=S),d.fileInputCleared=!1,d.fileBatchCompleted=!0,d.isPreviewable||(d.showPreview=!1),d.uploadFileAttr=W(e.attr("name"))?"file_data":e.attr("name"),d.reader=null,d.formdata={},d.clearStack(),d.uploadCount=0,d.uploadStatus={},d.uploadLog=[],d.uploadAsyncCount=0,d.loadedImages=[],d.totalImagesCount=0,d.ajaxRequests=[],d.isError=!1,d.ajaxAborted=!1,d.cancelling=!1,c=d._getLayoutTemplate("progress"),d.progressTemplate=c.replace("{class}",d.progressClass),d.progressCompleteTemplate=c.replace("{class}",d.progressCompleteClass),d.progressErrorTemplate=c.replace("{class}",d.progressErrorClass),d.dropZoneEnabled=k()&&d.dropZoneEnabled,d.isDisabled=d.$element.attr("disabled")||d.$element.attr("readonly"),d.isUploadable=l()&&!W(d.uploadUrl),d.slug="function"==typeof b.slugCallback?b.slugCallback:d._slugDefault,d.mainTemplate=d.showCaption?d._getLayoutTemplate("main1"):d._getLayoutTemplate("main2"),d.captionTemplate=d._getLayoutTemplate("caption"),d.previewGenericTemplate=d._getPreviewTemplate("generic"),d.resizeImage&&(d.maxImageWidth||d.maxImageHeight)&&(d.imageCanvas=document.createElement("canvas"),d.imageCanvasContext=d.imageCanvas.getContext("2d")),W(d.$element.attr("id"))&&d.$element.attr("id",$()),void 0===d.$container?d.$container=d._createContainer():d._refreshContainer(),d.$dropZone=d.$container.find(".file-drop-zone"),d.$progress=d.$container.find(".kv-upload-progress"),d.$btnUpload=d.$container.find(".fileinput-upload"),d.$captionContainer=Z(b,"elCaptionContainer",d.$container.find(".file-caption")),d.$caption=Z(b,"elCaptionText",d.$container.find(".file-caption-name")),d.$previewContainer=Z(b,"elPreviewContainer",d.$container.find(".file-preview")),d.$preview=Z(b,"elPreviewImage",d.$container.find(".file-preview-thumbnails")),d.$previewStatus=Z(b,"elPreviewStatus",d.$container.find(".file-preview-status")),d.$errorContainer=Z(b,"elErrorContainer",d.$previewContainer.find(".kv-fileinput-error")),W(d.msgErrorClass)||m(d.$errorContainer,d.msgErrorClass),d.$errorContainer.hide(),d.fileActionSettings=a.extend(!0,q,b.fileActionSettings),d.previewInitId="preview-"+$(),d.id=d.$element.attr("id"),h.init(d),d._initPreview(!0),d._initPreviewDeletes(),d.options=b,d._setFileDropZoneTitle(),d.$element.removeClass("file-loading"),d.$element.attr("disabled")&&d.disable()},_validate:function(){var a,b=this;return"file"===b.$element.attr("type")||(a='<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>',b.$element.after(a),!1)},_errorsExist:function(){var b,c=this;return!!c.$errorContainer.find("li").length||(b=a(document.createElement("div")).html(c.$errorContainer.html()),b.find("span.kv-error-close").remove(),b.find("ul").remove(),!!a.trim(b.text()).length)},_errorHandler:function(a,b){var c=this,d=a.target.error;d.code===d.NOT_FOUND_ERR?c._showError(c.msgFileNotFound.replace("{name}",b)):d.code===d.SECURITY_ERR?c._showError(c.msgFileSecured.replace("{name}",b)):d.code===d.NOT_READABLE_ERR?c._showError(c.msgFileNotReadable.replace("{name}",b)):d.code===d.ABORT_ERR?c._showError(c.msgFilePreviewAborted.replace("{name}",b)):c._showError(c.msgFilePreviewError.replace("{name}",b))},_addError:function(a){var b=this,c=b.$errorContainer;a&&c.length&&(c.html(b.errorCloseButton+a),g(c.find(".kv-error-close"),"click",function(){c.fadeOut("slow")}))},_resetErrors:function(a){var b=this,c=b.$errorContainer;b.isError=!1,b.$container.removeClass("has-error"),c.html(""),a?c.fadeOut("slow"):c.hide()},_showFolderError:function(a){var b,c=this,d=c.$errorContainer;a&&(b=c.msgFoldersNotAllowed.replace(/\{n}/g,a),c._addError(b),m(c.$container,"has-error"),d.fadeIn(800),c._raise("filefoldererror",[a,b]))},_showUploadError:function(a,b,c){var d=this,e=d.$errorContainer,f=c||"fileuploaderror",g=b&&b.id?'<li data-file-id="'+b.id+'">'+a+"</li>":"<li>"+a+"</li>";return 0===e.find("ul").length?d._addError("<ul>"+g+"</ul>"):e.find("ul").append(g),e.fadeIn(800),d._raise(f,[b,a]),d.$container.removeClass("file-input-new"),m(d.$container,"has-error"),!0},_showError:function(a,b,c){var d=this,e=d.$errorContainer,f=c||"fileerror";return b=b||{},b.reader=d.reader,d._addError(a),e.fadeIn(800),d._raise(f,[b,a]),d.isUploadable||d._clearFileInput(),d.$container.removeClass("file-input-new"),m(d.$container,"has-error"),d.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(a){var b=this,c=b.minFileCount>1?b.filePlural:b.fileSingle,d=b.msgFilesTooLess.replace("{n}",b.minFileCount).replace("{files}",c),e=b.$errorContainer;b._addError(d),b.isError=!0,b._updateFileDetails(0),e.fadeIn(800),b._raise("fileerror",[a,d]),b._clearFileInput(),m(b.$container,"has-error")},_parseError:function(b,c,d){var e=this,f=a.trim(c+""),g="."===f.slice(-1)?"":".",h=void 0!==b.responseJSON&&void 0!==b.responseJSON.error?b.responseJSON.error:b.responseText;return e.cancelling&&e.msgUploadAborted&&(f=e.msgUploadAborted),e.showAjaxErrorDetails&&h?(h=a.trim(h.replace(/\n\s*\n/g,"\n")),h=h.length>0?"<pre>"+h+"</pre>":"",f+=g+h):f+=g,e.cancelling=!1,d?"<b>"+d+": </b>"+f:f},_parseFileType:function(a){var b,c,d,e,f=this;for(e=0;e<S.length;e+=1)if(d=S[e],b=Y(d,f.fileTypeSettings)?f.fileTypeSettings[d]:V[d],c=b(a.type,a.name)?d:"",!W(c))return c;return"other"},_parseFilePreviewIcon:function(b,c){var d,e=this,f=e.previewFileIcon;return c&&c.indexOf(".")>-1&&(d=c.split(".").pop(),e.previewFileIconSettings&&e.previewFileIconSettings[d]&&(f=e.previewFileIconSettings[d]),e.previewFileExtSettings&&a.each(e.previewFileExtSettings,function(a,b){e.previewFileIconSettings[a]&&b(d)&&(f=e.previewFileIconSettings[a])})),b.indexOf("{previewFileIcon}")>-1?b.replace(/\{previewFileIconClass}/g,e.previewFileIconClass).replace(/\{previewFileIcon}/g,f):b},_raise:function(b,c){var d=this,e=a.Event(b);if(void 0!==c?d.$element.trigger(e,c):d.$element.trigger(e),e.isDefaultPrevented())return!1;if(!e.result)return e.result;switch(b){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:d.ajaxAborted=e.result}return!0},_listen:function(){var b=this,c=b.$element,d=c.closest("form"),e=b.$container;g(c,"change",a.proxy(b._change,b)),g(b.$btnFile,"click",a.proxy(b._browse,b)),g(d,"reset",a.proxy(b.reset,b)),g(e.find(".fileinput-remove:not([disabled])"),"click",a.proxy(b.clear,b)),g(e.find(".fileinput-cancel"),"click",a.proxy(b.cancel,b)),b._initDragDrop(),b.isUploadable||g(d,"submit",a.proxy(b._submitForm,b)),g(b.$container.find(".fileinput-upload"),"click",a.proxy(b._uploadClick,b))},_initDragDrop:function(){var b=this,c=b.$dropZone;b.isUploadable&&b.dropZoneEnabled&&b.showPreview&&(g(c,"dragenter dragover",a.proxy(b._zoneDragEnter,b)),g(c,"dragleave",a.proxy(b._zoneDragLeave,b)),g(c,"drop",a.proxy(b._zoneDrop,b)),g(a(document),"dragenter dragover drop",b._zoneDragDropInit))},_zoneDragDropInit:function(a){a.stopPropagation(),a.preventDefault()},_zoneDragEnter:function(b){var c=this,d=a.inArray("Files",b.originalEvent.dataTransfer.types)>-1;return c._zoneDragDropInit(b),c.isDisabled||!d?(b.originalEvent.dataTransfer.effectAllowed="none",void(b.originalEvent.dataTransfer.dropEffect="none")):void m(c.$dropZone,"file-highlighted")},_zoneDragLeave:function(a){var b=this;b._zoneDragDropInit(a),b.isDisabled||b.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(a){var b=this;a.preventDefault(),b.isDisabled||W(a.originalEvent.dataTransfer.files)||(b._change(a,"dragdrop"),b.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(a){var b,c=this,d=c.$container.find(".fileinput-upload"),e=!d.hasClass("disabled")&&W(d.attr("disabled"));if(!a||!a.isDefaultPrevented()){if(!c.isUploadable)return void(e&&"submit"!==d.attr("type")&&(b=d.closest("form"),b.length&&b.trigger("submit"),a.preventDefault()));a.preventDefault(),e&&c.upload()}},_submitForm:function(){var a=this,b=a.$element,c=b.get(0).files;return c&&a.minFileCount>0&&a._getFileCount(c.length)<a.minFileCount?(a._noFilesError({}),!1):!a._abort({})},_clearPreview:function(){var a=this,b=a.showUploadedThumbs?a.$preview.find(".file-preview-frame:not(.file-preview-success)"):a.$preview.find(".file-preview-frame");b.remove(),a.$preview.find(".file-preview-frame").length&&a.showPreview||a._resetUpload(),a._validateDefaultPreview()},_initPreview:function(a){var b,c=this,d=c.initialCaption||"";return h.count(c.id)?(b=h.out(c.id),d=a&&c.initialCaption?c.initialCaption:b.caption,c.$preview.html(b.content),c._setCaption(d),void(W(b.content)||c.$container.removeClass("file-input-new"))):(c._clearPreview(),void(a?c._setCaption(d):c._initCaption()))},_initPreviewDeletes:function(){var b=this,c=b.deleteExtraData||{},d=function(){var a=b.isUploadable?h.count(b.id):b.$element.get(0).files.length;0!==b.$preview.find(".kv-file-remove").length||a||(b.reset(),b.initialCaption="")};b.$preview.find(".kv-file-remove").each(function(){var e=a(this),f=e.data("url")||b.deleteUrl,i=e.data("key");if(!W(f)&&void 0!==i){var j,k,l,n,o=e.closest(".file-preview-frame"),p=h.data[b.id],q=o.data("fileindex");q=parseInt(q.replace("init_","")),l=W(p.config)&&W(p.config[q])?null:p.config[q],n=W(l)||W(l.extra)?c:l.extra,"function"==typeof n&&(n=n()),k={id:e.attr("id"),key:i,extra:n},j=a.extend(!0,{},{url:f,type:"POST",dataType:"json",data:a.extend(!0,{},{key:i},n),beforeSend:function(a){b.ajaxAborted=!1,b._raise("filepredelete",[i,a,n]),b.ajaxAborted?a.abort():(m(o,"file-uploading"),m(e,"disabled"))},success:function(a,c,f){var g,j;return W(a)||W(a.error)?(h.unset(b.id,q),g=h.count(b.id),j=g>0?b._getMsgSelected(g):"",b._raise("filedeleted",[i,f,n]),b._setCaption(j),o.removeClass("file-uploading").addClass("file-deleted"),void o.fadeOut("slow",function(){b._clearObjects(o),o.remove(),d(),g||0!==b.getFileStack().length||(b._setCaption(""),b.reset())})):(k.jqXHR=f,k.response=a,b._showError(a.error,k,"filedeleteerror"),o.removeClass("file-uploading"),e.removeClass("disabled"),void d())},error:function(a,c,e){var f=b._parseError(a,e);k.jqXHR=a,k.response={},b._showError(f,k,"filedeleteerror"),o.removeClass("file-uploading"),d()}},b.ajaxDeleteSettings),g(e,"click",function(){return!!b._validateMinCount()&&void a.ajax(j)})}})},_clearObjects:function(b){b.find("video audio").each(function(){this.pause(),a(this).remove()}),b.find("img object div").each(function(){a(this).remove()})},_clearFileInput:function(){var b,c,d,e=this,f=e.$element;W(f.val())||(e.isIE9||e.isIE10?(b=f.closest("form"),c=a(document.createElement("form")),d=a(document.createElement("div")),f.before(d),b.length?b.after(c):d.after(c),c.append(f).trigger("reset"),d.before(f).remove(),c.remove()):f.val(""),e.fileInputCleared=!0)},_resetUpload:function(){var a=this;a.uploadCache={content:[],config:[],tags:[],append:!0},a.uploadCount=0,a.uploadStatus={},a.uploadLog=[],a.uploadAsyncCount=0,a.loadedImages=[],a.totalImagesCount=0,a.$btnUpload.removeAttr("disabled"),a._setProgress(0),m(a.$progress,"hide"),a._resetErrors(!1),a.ajaxAborted=!1,a.ajaxRequests=[],a._resetCanvas()},_resetCanvas:function(){var a=this;a.canvas&&a.imageCanvasContext&&a.imageCanvasContext.clearRect(0,0,a.canvas.width,a.canvas.height)},_hasInitialPreview:function(){var a=this;return!a.overwriteInitial&&h.count(a.id)},_resetPreview:function(){var a,b,c=this;h.count(c.id)?(a=h.out(c.id),c.$preview.html(a.content),b=c.initialCaption?c.initialCaption:a.caption,c._setCaption(b)):(c._clearPreview(),c._initCaption())},_clearDefaultPreview:function(){var a=this;a.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var a=this;a.showPreview&&!W(a.defaultPreviewContent)&&(a.$preview.html('<div class="file-default-preview">'+a.defaultPreviewContent+"</div>"),a.$container.removeClass("file-input-new"))},_resetPreviewThumbs:function(a){var b,c=this;return a?(c._clearPreview(),void c.clearStack()):void(c._hasInitialPreview()?(b=h.out(c.id),c.$preview.html(b.content),c._setCaption(b.caption),c._initPreviewDeletes()):c._clearPreview())},_getLayoutTemplate:function(a){var b=this,c=Y(a,b.layoutTemplates)?b.layoutTemplates[a]:Q[a];return W(b.customLayoutTags)?c:aa(c,b.customLayoutTags)},_getPreviewTemplate:function(a){var b=this,c=Y(a,b.previewTemplates)?b.previewTemplates[a]:R[a];return W(b.customPreviewTags)?c:aa(c,b.customPreviewTags)},_getOutData:function(a,b,c){var d=this;return a=a||{},b=b||{},c=c||d.filestack.slice(0)||{},{form:d.formdata,files:c,filenames:d.filenames,extra:d._getExtraData(),response:b,reader:d.reader,jqXHR:a}},_getMsgSelected:function(a){var b=this,c=1===a?b.fileSingle:b.filePlural;return b.msgSelected.replace("{n}",a).replace("{files}",c)},_getThumbs:function(a){return a=a||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+a)},_getExtraData:function(a,b){var c=this,d=c.uploadExtraData;return"function"==typeof c.uploadExtraData&&(d=c.uploadExtraData(a,b)),d},_initXhr:function(a,b,c){var d=this;return a.upload&&a.upload.addEventListener("progress",function(a){var e=0,f=a.loaded||a.position,g=a.total;a.lengthComputable&&(e=Math.ceil(f/g*100)),b?d._setAsyncUploadStatus(b,e,c):d._setProgress(Math.ceil(e))},!1),a},_ajaxSubmit:function(b,c,d,e,f,g){var h,i=this;i._raise("filepreajax",[f,g]),i._uploadExtra(f,g),h=a.extend(!0,{},{xhr:function(){var b=a.ajaxSettings.xhr();return i._initXhr(b,f,i.getFileStack().length)},url:i.uploadUrl,type:"POST",dataType:"json",data:i.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:b,success:c,complete:d,error:e},i.ajaxSettings),i.ajaxRequests.push(a.ajax(h))},_initUploadSuccess:function(b,c,d){var e,f,g,i,j,k,l,m,n=this;n.showPreview&&"object"==typeof b&&!a.isEmptyObject(b)&&void 0!==b.initialPreview&&b.initialPreview.length>0&&(n.hasInitData=!0,j=b.initialPreview||[],k=b.initialPreviewConfig||[],l=b.initialPreviewThumbTags||[],e=!(void 0!==b.append&&!b.append),n.overwriteInitial=!1,void 0!==c?d?(m=c.attr("data-fileindex"),n.uploadCache.content[m]=j[0],n.uploadCache.config[m]=k[0],n.uploadCache.tags[m]=l[0],n.uploadCache.append=e):(g=h.add(n.id,j,k[0],l[0],e),f=h.get(n.id,g,!1),i=a(f).hide(),c.after(i).fadeOut("slow",function(){i.fadeIn("slow").css("display:inline-block"),n._initPreviewDeletes(),n._clearFileInput(),c.remove()})):(h.set(n.id,j,k,l,e),n._initPreview(),n._initPreviewDeletes()))},_initSuccessThumbs:function(){var b=this;b.showPreview&&b._getThumbs(".file-preview-success").each(function(){var c=a(this),d=c.find(".kv-file-remove");d.removeAttr("disabled"),g(d,"click",function(){var a=b._raise("filesuccessremove",[c.attr("id"),c.data("fileindex")]);ba(c),a!==!1&&c.fadeOut("slow",function(){c.remove(),b.$preview.find(".file-preview-frame").length||b.reset()})})})},_checkAsyncComplete:function(){var b,c,d=this;for(c=0;c<d.filestack.length;c++)if(d.filestack[c]&&(b=d.previewInitId+"-"+c,-1===a.inArray(b,d.uploadLog)))return!1;return d.uploadAsyncCount===d.uploadLog.length},_uploadExtra:function(b,c){var d=this,e=d._getExtraData(b,c);0!==e.length&&a.each(e,function(a,b){d.formdata.append(a,b)})},_uploadSingle:function(b,c,d){var e,f,g,i,j,k,l,n,o,p,q=this,r=q.getFileStack().length,s=new FormData,t=q.previewInitId+"-"+b,u=q.filestack.length>0||!a.isEmptyObject(q.uploadExtraData),v={id:t,index:b};q.formdata=s,q.showPreview&&(f=a("#"+t+":not(.file-preview-initial)"),i=f.find(".kv-file-upload"),j=f.find(".kv-file-remove"),a("#"+t).find(".file-thumb-progress").removeClass("hide")),0===r||!u||i&&i.hasClass("disabled")||q._abort(v)||(p=function(a,b){q.updateStack(a,void 0),q.uploadLog.push(b),q._checkAsyncComplete()&&(q.fileBatchCompleted=!0)},g=function(){q.fileBatchCompleted&&setTimeout(function(){q.showPreview&&(h.set(q.id,q.uploadCache.content,q.uploadCache.config,q.uploadCache.tags,q.uploadCache.append),q.hasInitData&&(q._initPreview(),q._initPreviewDeletes())),q.unlock(),q._clearFileInput(),q._raise("filebatchuploadcomplete",[q.filestack,q._getExtraData()]),q.uploadCount=0,q.uploadStatus={},q.uploadLog=[],q._setProgress(100)},100)},k=function(c){e=q._getOutData(c),q.fileBatchCompleted=!1,q.showPreview&&(f.hasClass("file-preview-success")||(q._setThumbStatus(f,"Loading"),m(f,"file-uploading")),i.attr("disabled",!0),j.attr("disabled",!0)),d||q.lock(),q._raise("filepreupload",[e,t,b]),a.extend(!0,v,e),q._abort(v)&&(c.abort(),q._setProgressCancelled())},l=function(c,g,h){e=q._getOutData(h,c),a.extend(!0,v,e),setTimeout(function(){W(c)||W(c.error)?(q.showPreview&&(q._setThumbStatus(f,"Success"),i.hide(),q._initUploadSuccess(c,f,d)),q._raise("fileuploaded",[e,t,b]),d?p(b,t):q.updateStack(b,void 0)):(q._showUploadError(c.error,v),q._setPreviewError(f,b),d&&p(b,t))},100)},n=function(){setTimeout(function(){q.showPreview&&(i.removeAttr("disabled"),j.removeAttr("disabled"),f.removeClass("file-uploading")),d?g():(q.unlock(!1),q._clearFileInput()),q._initSuccessThumbs()},100)},o=function(e,g,h){var i=q._parseError(e,h,d?c[b].name:null);setTimeout(function(){d&&p(b,t),q.uploadStatus[t]=100,q._setPreviewError(f,b),a.extend(!0,v,q._getOutData(e)),q._showUploadError(i,v)},100)},s.append(q.uploadFileAttr,c[b],q.filenames[b]),s.append("file_id",b),q._ajaxSubmit(k,l,n,o,t,b))},_uploadBatch:function(){var b,c,d,e,f,g=this,h=g.filestack,i=h.length,j={},k=g.filestack.length>0||!a.isEmptyObject(g.uploadExtraData);g.formdata=new FormData,0!==i&&k&&!g._abort(j)&&(f=function(){a.each(h,function(a){g.updateStack(a,void 0)}),g._clearFileInput()},b=function(b){g.lock();var c=g._getOutData(b);g.showPreview&&g._getThumbs().each(function(){var b=a(this),c=b.find(".kv-file-upload"),d=b.find(".kv-file-remove");b.hasClass("file-preview-success")||(g._setThumbStatus(b,"Loading"),m(b,"file-uploading")),c.attr("disabled",!0),d.attr("disabled",!0)}),g._raise("filebatchpreupload",[c]),g._abort(c)&&(b.abort(),g._setProgressCancelled())},c=function(b,c,d){var e=g._getOutData(d,b),h=g._getThumbs(),i=0,j=W(b)||W(b.errorkeys)?[]:b.errorkeys;W(b)||W(b.error)?(g._raise("filebatchuploadsuccess",[e]),f(),g.showPreview?(h.each(function(){var b=a(this),c=b.find(".kv-file-upload");b.find(".kv-file-upload").hide(),g._setThumbStatus(b,"Success"),b.removeClass("file-uploading"),c.removeAttr("disabled")}),g._initUploadSuccess(b)):g.reset()):(g.showPreview&&(h.each(function(){var b=a(this),c=b.find(".kv-file-remove"),d=b.find(".kv-file-upload");return b.removeClass("file-uploading"),d.removeAttr("disabled"),c.removeAttr("disabled"),0===j.length?void g._setPreviewError(b):(-1!==a.inArray(i,j)?g._setPreviewError(b):(b.find(".kv-file-upload").hide(),g._setThumbStatus(b,"Success"),g.updateStack(i,void 0)),void i++)}),g._initUploadSuccess(b)),g._showUploadError(b.error,e,"filebatchuploaderror"))},e=function(){g._setProgress(100),g.unlock(),g._initSuccessThumbs(),g._clearFileInput(),g._raise("filebatchuploadcomplete",[g.filestack,g._getExtraData()])},d=function(b,c,d){var e=g._getOutData(b),f=g._parseError(b,d);g._showUploadError(f,e,"filebatchuploaderror"),g.uploadFileCount=i-1,g.showPreview&&(g._getThumbs().each(function(){var b=a(this),c=b.attr("data-fileindex");b.removeClass("file-uploading"),void 0!==g.filestack[c]&&g._setPreviewError(b)}),g._getThumbs().removeClass("file-uploading"),g._getThumbs(" .kv-file-upload").removeAttr("disabled"),g._getThumbs(" .kv-file-delete").removeAttr("disabled"))},a.each(h,function(a,b){W(h[a])||g.formdata.append(g.uploadFileAttr,b,g.filenames[a])}),g._ajaxSubmit(b,c,e,d))},_uploadExtraOnly:function(){var a,b,c,d,e=this,f={};e.formdata=new FormData,e._abort(f)||(a=function(a){e.lock();var b=e._getOutData(a);e._raise("filebatchpreupload",[b]),
e._setProgress(50),f.data=b,f.xhr=a,e._abort(f)&&(a.abort(),e._setProgressCancelled())},b=function(a,b,c){var d=e._getOutData(c,a);W(a)||W(a.error)?(e._raise("filebatchuploadsuccess",[d]),e._clearFileInput(),e._initUploadSuccess(a)):e._showUploadError(a.error,d,"filebatchuploaderror")},c=function(){e._setProgress(100),e.unlock(),e._clearFileInput(),e._raise("filebatchuploadcomplete",[e.filestack,e._getExtraData()])},d=function(a,b,c){var d=e._getOutData(a),g=e._parseError(a,c);f.data=d,e._showUploadError(g,d,"filebatchuploaderror")},e._ajaxSubmit(a,b,c,d))},_initFileActions:function(){var b=this;b.showPreview&&(b.$preview.find(".kv-file-remove").each(function(){var c,d,e,f,i=a(this),j=i.closest(".file-preview-frame"),k=j.attr("id"),l=j.attr("data-fileindex");g(i,"click",function(){return f=b._raise("filepreremove",[k,l]),!(f===!1||!b._validateMinCount())&&(c=j.hasClass("file-preview-error"),ba(j),void j.fadeOut("slow",function(){b.updateStack(l,void 0),b._clearObjects(j),j.remove(),k&&c&&b.$errorContainer.find('li[data-file-id="'+k+'"]').fadeOut("fast",function(){a(this).remove(),b._errorsExist()||b._resetErrors()});var f=b.getFileStack(!0),g=f.length,i=h.count(b.id),m=b.showPreview&&b.$preview.find(".file-preview-frame").length;b._clearFileInput(),0!==g||0!==i||m?(d=i+g,e=d>1?b._getMsgSelected(d):f[0]?b._getFileNames()[0]:"",b._setCaption(e)):b.reset(),b._raise("fileremoved",[k,l])}))})}),b.$preview.find(".kv-file-upload").each(function(){var c=a(this);g(c,"click",function(){var a=c.closest(".file-preview-frame"),d=a.attr("data-fileindex");a.hasClass("file-preview-error")||b._uploadSingle(d,b.filestack,!1)})}))},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_previewDefault:function(b,d,e){if(this.showPreview){var f=this,g="",h=b?b.name:"",i=c.createObjectURL(b),j=d.slice(d.lastIndexOf("-")+1),k=f.previewSettings.other||T.other,l=f._renderFileFooter(b.name,k.width),m=f._parseFilePreviewIcon(f._getPreviewTemplate("other"),h);e===!0&&(f.isUploadable||(l+='<div class="file-other-error" title="'+f.fileActionSettings.indicatorErrorTitle+'">'+f.fileActionSettings.indicatorError+"</div>")),f._clearDefaultPreview(),f.$preview.append("\n"+m.replace(/\{previewId}/g,d).replace(/\{frameClass}/g,g).replace(/\{fileindex}/g,j).replace(/\{caption}/g,f.slug(b.name)).replace(/\{width}/g,k.width).replace(/\{height}/g,k.height).replace(/\{type}/g,b.type).replace(/\{data}/g,i).replace(/\{footer}/g,l)),e===!0&&f.isUploadable&&f._setThumbStatus(a("#"+d),"Error")}},_previewFile:function(a,b,c,d,e){if(this.showPreview){var f,g,h,i=this,j=i._parseFileType(b),k=b?b.name:"",l=i.slug(k),m=i.allowedPreviewTypes,n=i.allowedPreviewMimeTypes,o=i._getPreviewTemplate(j),p=m&&m.indexOf(j)>=0,q=Y(j,i.previewSettings)?i.previewSettings[j]:T[j],r=n&&-1!==n.indexOf(b.type),s=i._renderFileFooter(l,q.width),t="",u=d.slice(d.lastIndexOf("-")+1);p||r?(o=i._parseFilePreviewIcon(o,k.split(".").pop()),"text"===j?(g=_(c.target.result),h="text-"+$(),f=o.replace(/\{zoom}/g,i._getLayoutTemplate("zoom")),t=i._getLayoutTemplate("modal").replace("{id}",h).replace(/\{title}/g,l).replace(/\{body}/g,g).replace(/\{heading}/g,i.msgZoomModalHeading),f=f.replace(/\{previewId}/g,d).replace(/\{caption}/g,l).replace(/\{width}/g,q.width).replace(/\{height}/g,q.height).replace(/\{frameClass}/g,"").replace(/\{zoomInd}/g,i.zoomIndicator).replace(/\{footer}/g,s).replace(/\{fileindex}/g,u).replace(/\{type}/g,b.type).replace(/\{zoomTitle}/g,i.msgZoomTitle).replace(/\{dialog}/g,"$('#"+h+"').modal('show')").replace(/\{data}/g,g)+t):f=o.replace(/\{previewId}/g,d).replace(/\{caption}/g,l).replace(/\{frameClass}/g,"").replace(/\{type}/g,b.type).replace(/\{fileindex}/g,u).replace(/\{width}/g,q.width).replace(/\{height}/g,q.height).replace(/\{footer}/g,s).replace(/\{data}/g,e),i._clearDefaultPreview(),i.$preview.append("\n"+f),i._validateImage(a,d,l,b.type)):i._previewDefault(b,d)}},_slugDefault:function(a){return W(a)?"":String(a).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(b){this.reader=new FileReader;var e,f=this,g=f.$element,h=f.$preview,i=f.reader,j=f.$previewContainer,k=f.$previewStatus,l=f.msgLoading,m=f.msgProgress,n=f.previewInitId,o=b.length,p=f.fileTypeSettings,q=f.filestack.length,r=function(c,d,g,h){var i=a.extend(!0,{},f._getOutData({},{},b),{id:g,index:h}),j={id:g,index:h,file:d,files:b};return f._previewDefault(d,g,!0),f.isUploadable&&f.addToStack(void 0),setTimeout(e(h+1),100),f._initFileActions(),f.removeFromPreviewOnError&&a("#"+g).remove(),f.isUploadable?f._showUploadError(c,i):f._showError(c,j)};f.loadedImages=[],f.totalImagesCount=0,a.each(b,function(a,b){var c=f.fileTypeSettings.image||V.image;c&&c(b.type)&&f.totalImagesCount++}),e=function(a){if(W(g.attr("multiple"))&&(o=1),a>=o)return f.isUploadable&&f.filestack.length>0?f._raise("filebatchselected",[f.getFileStack()]):f._raise("filebatchselected",[b]),j.removeClass("file-thumb-loading"),void k.html("");var s,t,u,v,w,x,y=q+a,z=n+"-"+y,A=b[a],B=f.slug(A.name),C=(A.size||0)/1e3,D="",E=c.createObjectURL(A),F=0,G=f.allowedFileTypes,H=W(G)?"":G.join(", "),I=f.allowedFileExtensions,J=W(I)?"":I.join(", ");if(W(I)||(D=new RegExp("\\.("+I.join("|")+")$","i")),C=C.toFixed(2),f.maxFileSize>0&&C>f.maxFileSize)return v=f.msgSizeTooLarge.replace("{name}",B).replace("{size}",C).replace("{maxSize}",f.maxFileSize),void(f.isError=r(v,A,z,a));if(!W(G)&&X(G)){for(u=0;u<G.length;u+=1)w=G[u],t=p[w],x=void 0!==t&&t(A.type,B),F+=W(x)?0:x.length;if(0===F)return v=f.msgInvalidFileType.replace("{name}",B).replace("{types}",H),void(f.isError=r(v,A,z,a))}return 0!==F||W(I)||!X(I)||W(D)||(x=d(B,D),F+=W(x)?0:x.length,0!==F)?f.showPreview?(h.length>0&&void 0!==FileReader?(k.html(l.replace("{index}",a+1).replace("{files}",o)),j.addClass("file-thumb-loading"),i.onerror=function(a){f._errorHandler(a,B)},i.onload=function(b){f._previewFile(a,A,b,z,E),f._initFileActions()},i.onloadend=function(){v=m.replace("{index}",a+1).replace("{files}",o).replace("{percent}",50).replace("{name}",B),setTimeout(function(){k.html(v),f._updateFileDetails(o),e(a+1)},100),f._raise("fileloaded",[A,z,a,i])},i.onprogress=function(b){if(b.lengthComputable){var c=b.loaded/b.total*100,d=Math.ceil(c);v=m.replace("{index}",a+1).replace("{files}",o).replace("{percent}",d).replace("{name}",B),setTimeout(function(){k.html(v)},100)}},s=Y("text",p)?p.text:V.text,s(A.type,B)?i.readAsText(A,f.textEncoding):i.readAsArrayBuffer(A)):(f._previewDefault(A,z),setTimeout(function(){e(a+1),f._updateFileDetails(o)},100),f._raise("fileloaded",[A,z,a,i])),void f.addToStack(A)):(f.addToStack(A),setTimeout(e(a+1),100),void f._raise("fileloaded",[A,z,a,i])):(v=f.msgInvalidFileExtension.replace("{name}",B).replace("{extensions}",J),void(f.isError=r(v,A,z,a)))},e(0),f._updateFileDetails(o,!1)},_updateFileDetails:function(a){var b=this,c=b.$element,d=b.getFileStack(),e=c[0].files[0]&&c[0].files[0].name||d.length&&d[0].name||"",f=b.slug(e),g=b.isUploadable?d.length:a,i=h.count(b.id)+g,j=g>1?b._getMsgSelected(i):f;b.isError?(b.$previewContainer.removeClass("file-thumb-loading"),b.$previewStatus.html(""),b.$captionContainer.find(".kv-caption-icon").hide()):b._showFileIcon(),b._setCaption(j,b.isError),b.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&b._raise("fileselect",[a,f]),h.count(b.id)&&b._initPreviewDeletes()},_setThumbStatus:function(a,b){var c=this;if(c.showPreview){var d="indicator"+b,e=d+"Title",f="file-preview-"+b.toLowerCase(),g=a.find(".file-upload-indicator"),h=c.fileActionSettings;a.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===b&&a.find(".kv-file-upload").attr("disabled",!0),g.html(h[d]),g.attr("title",h[e]),a.addClass(f)}},_setProgressCancelled:function(){var a=this;a._setProgress(100,a.$progress,a.msgCancelled)},_setProgress:function(a,b,c){var d=this,e=Math.min(a,100),f=100>e?d.progressTemplate:c?d.progressErrorTemplate:d.progressCompleteTemplate;b=b||d.$progress,W(f)||(b.html(f.replace(/\{percent}/g,e)),c&&b.find('[role="progressbar"]').html(c))},_setFileDropZoneTitle:function(){var a=this,b=a.$container.find(".file-drop-zone");b.find("."+a.dropZoneTitleClass).remove(),a.isUploadable&&a.showPreview&&0!==b.length&&!(a.getFileStack().length>0)&&a.dropZoneEnabled&&(0===b.find(".file-preview-frame").length&&W(a.defaultPreviewContent)&&b.prepend('<div class="'+a.dropZoneTitleClass+'">'+a.dropZoneTitle+"</div>"),a.$container.removeClass("file-input-new"),m(a.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(b,c,d){var e=this,f=0;e._setProgress(c,a("#"+b).find(".file-thumb-progress")),e.uploadStatus[b]=c,a.each(e.uploadStatus,function(a,b){f+=b}),e._setProgress(Math.ceil(f/d))},_validateMinCount:function(){var a=this,b=a.isUploadable?a.getFileStack().length:a.$element.get(0).files.length;return!(a.validateInitialCount&&a.minFileCount>0&&a._getFileCount(b-1)<a.minFileCount&&(a._noFilesError({}),1))},_getFileCount:function(a){var b=this,c=0;return b.validateInitialCount&&!b.overwriteInitial&&(c=h.count(b.id),a+=c),a},_getFileName:function(a){return a&&a.name?this.slug(a.name):void 0},_getFileNames:function(a){var b=this;return b.filenames.filter(function(b){return a?void 0!==b:void 0!==b&&null!==b})},_setPreviewError:function(a,b,c){var d=this;b&&d.updateStack(b,c),d.removeFromPreviewOnError?a.remove():d._setThumbStatus(a,"Error")},_checkDimensions:function(a,b,c,d,e,f,g){var h,i,j,k,l=this,m="Small"===b?"min":"max",n=l[m+"Image"+f];!W(n)&&c.length&&(j=c[0],i="Width"===f?j.naturalWidth||j.width:j.naturalHeight||j.height,k="Small"===b?i>=n:n>=i,k||(h=l["msgImage"+f+b].replace("{name}",e).replace("{size}",n),l._showUploadError(h,g),l._setPreviewError(d,a,null)))},_validateImage:function(a,b,d,e){var f,h,i,j=this,k=j.$preview,l=k.find("#"+b),m=l.find("img");d=d||"Untitled",m.length&&g(m,"load",function(){h=l.width(),i=k.width(),h>i&&(m.css("width","100%"),l.css("width","97%")),f={ind:a,id:b},j._checkDimensions(a,"Small",m,l,d,"Width",f),j._checkDimensions(a,"Small",m,l,d,"Height",f),j.resizeImage||(j._checkDimensions(a,"Large",m,l,d,"Width",f),j._checkDimensions(a,"Large",m,l,d,"Height",f)),j._raise("fileimageloaded",[b]),j.loadedImages.push({ind:a,img:m,thumb:l,pid:b,typ:e}),j._validateAllImages(),c.revokeObjectURL(m.attr("src"))})},_validateAllImages:function(){var a,b,c,d,e,f,g,h=this,i={};if(h.loadedImages.length===h.totalImagesCount&&(h._raise("fileimagesloaded"),h.resizeImage)){for(g=h.isUploadable?h._showUploadError:h._showError,a=0;a<h.loadedImages.length;a++)b=h.loadedImages[a],c=b.img,d=b.thumb,e=b.pid,f=b.ind,i={id:e,index:f},h._getResizedImage(c[0],b.typ,e,f)||(g(h.msgImageResizeError,i,"fileimageresizeerror"),h._setPreviewError(d,f));h._raise("fileimagesresized")}},_getResizedImage:function(a,b,c,d){var e,f,g=this,h=a.naturalWidth,i=a.naturalHeight,j=1,k=g.maxImageWidth||h,l=g.maxImageHeight||i,m=h&&i,n=g.imageCanvas,o=g.imageCanvasContext;if(!m)return!1;if(h===k&&i===l)return!0;b=b||g.resizeDefaultImageType,e=h>k,f=i>l,j="width"===g.resizePreference?e?k/h:f?l/i:1:f?l/i:e?k/h:1,g._resetCanvas(),h*=j,i*=j,n.width=h,n.height=i;try{return o.drawImage(a,0,0,h,i),n.toBlob(function(a){g._raise("fileimageresized",[c,d]),g.filestack[d]=a},b,g.resizeQuality),!0}catch(a){return!1}},_initBrowse:function(a){var b=this;b.$btnFile=a.find(".btn-file"),b.$btnFile.append(b.$element)},_initCaption:function(){var a=this,b=a.initialCaption||"";return a.overwriteInitial||W(b)?(a.$caption.html(""),!1):(a._setCaption(b),!0)},_setCaption:function(b,c){var d,e,f,g,h=this,i=h.getFileStack();if(h.$caption.length){if(c)d=a("<div>"+h.msgValidationError+"</div>").text(),f=i.length,g=f?1===f&&i[0]?h._getFileNames()[0]:h._getMsgSelected(f):h._getMsgSelected(h.msgNo),e='<span class="'+h.msgValidationErrorClass+'">'+h.msgValidationErrorIcon+(W(b)?g:b)+"</span>";else{if(W(b))return;d=a("<div>"+b+"</div>").text(),e=h._getLayoutTemplate("icon")+d}h.$caption.html(e),h.$caption.attr("title",d),h.$captionContainer.find(".file-caption-ellipsis").attr("title",d)}},_createContainer:function(){var b=this,c=a(document.createElement("div")).attr({class:"file-input file-input-new"}).html(b._renderMain());return b.$element.before(c),b._initBrowse(c),c},_refreshContainer:function(){var a=this,b=a.$container;b.before(a.$element),b.html(a._renderMain()),a._initBrowse(b)},_renderMain:function(){var a=this,b=a.isUploadable&&a.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",c=a.showClose?a._getLayoutTemplate("close"):"",d=a.showPreview?a._getLayoutTemplate("preview").replace(/\{class}/g,a.previewClass).replace(/\{dropClass}/g,b):"",e=a.isDisabled?a.captionClass+" file-caption-disabled":a.captionClass,f=a.captionTemplate.replace(/\{class}/g,e+" kv-fileinput-caption");return a.mainTemplate.replace(/\{class}/g,a.mainClass).replace(/\{preview}/g,d).replace(/\{close}/g,c).replace(/\{caption}/g,f).replace(/\{upload}/g,a._renderButton("upload")).replace(/\{remove}/g,a._renderButton("remove")).replace(/\{cancel}/g,a._renderButton("cancel")).replace(/\{browse}/g,a._renderButton("browse"))},_renderButton:function(a){var b=this,c=b._getLayoutTemplate("btnDefault"),d=b[a+"Class"],e=b[a+"Title"],f=b[a+"Icon"],g=b[a+"Label"],h=b.isDisabled?" disabled":"",i="button";switch(a){case"remove":if(!b.showRemove)return"";break;case"cancel":if(!b.showCancel)return"";d+=" hide";break;case"upload":if(!b.showUpload)return"";b.isUploadable&&!b.isDisabled?c=b._getLayoutTemplate("btnLink").replace("{href}",b.uploadUrl):i="submit";break;case"browse":c=b._getLayoutTemplate("btnBrowse");break;default:return""}return d+="browse"===a?" btn-file":" fileinput-"+a+" fileinput-"+a+"-button",W(g)||(g=' <span class="'+b.buttonLabelClass+'">'+g+"</span>"),c.replace("{type}",i).replace("{css}",d).replace("{title}",e).replace("{status}",h).replace("{icon}",f).replace("{label}",g)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},_renderFileFooter:function(a,b){var c,d,e=this,f=e.fileActionSettings,g=e._getLayoutTemplate("footer");return e.isUploadable?(c=g.replace(/\{actions}/g,e._renderFileActions(!0,!0,!1,!1,!1)),d=c.replace(/\{caption}/g,a).replace(/\{width}/g,b).replace(/\{progress}/g,e._renderThumbProgress()).replace(/\{indicator}/g,f.indicatorNew).replace(/\{indicatorTitle}/g,f.indicatorNewTitle)):d=g.replace(/\{actions}/g,"").replace(/\{caption}/g,a).replace(/\{progress}/g,"").replace(/\{width}/g,b).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,""),d=aa(d,e.previewThumbTags)},_renderFileActions:function(a,b,c,d,e){if(!a&&!b)return"";var f=this,g=d===!1?"":' data-url="'+d+'"',h=e===!1?"":' data-key="'+e+'"',i=f._getLayoutTemplate("actionDelete"),j="",k=f._getLayoutTemplate("actions"),l=f.otherActionButtons.replace(/\{dataKey}/g,h),m=f.fileActionSettings,n=c?m.removeClass+" disabled":m.removeClass;return i=i.replace(/\{removeClass}/g,n).replace(/\{removeIcon}/g,m.removeIcon).replace(/\{removeTitle}/g,m.removeTitle).replace(/\{dataUrl}/g,g).replace(/\{dataKey}/g,h),a&&(j=f._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,m.uploadClass).replace(/\{uploadIcon}/g,m.uploadIcon).replace(/\{uploadTitle}/g,m.uploadTitle)),k.replace(/\{delete}/g,i).replace(/\{upload}/g,j).replace(/\{other}/g,l)},_browse:function(a){var b=this;b._raise("filebrowse"),a&&a.isDefaultPrevented()||(b.isError&&!b.isUploadable&&b.clear(),b.$captionContainer.focus())},_change:function(b){var c=this,d=c.$element;if(!c.isUploadable&&W(d.val())&&c.fileInputCleared)return void(c.fileInputCleared=!1);c.fileInputCleared=!1;var e,f,g,i,j,k,l=arguments.length>1,m=c.isUploadable,n=0,o=l?b.originalEvent.dataTransfer.files:d.get(0).files,p=c.filestack.length,q=W(d.attr("multiple")),r=q&&p>0,s=0,t=function(b,d,e,f){var g=a.extend(!0,{},c._getOutData({},{},o),{id:e,index:f}),h={id:e,index:f,file:d,files:o};return c.isUploadable?c._showUploadError(b,g):c._showError(b,h)};if(c.reader=null,c._resetUpload(),c._hideFileIcon(),c.isUploadable&&c.$container.find(".file-drop-zone ."+c.dropZoneTitleClass).remove(),l)for(e=[];o[n];)i=o[n],i.type||i.size%4096!==0?e.push(i):s++,n++;else e=void 0===b.target.files?b.target&&b.target.value?[{name:b.target.value.replace(/^.+\\/,"")}]:[]:b.target.files;if(W(e)||0===e.length)return m||c.clear(),c._showFolderError(s),void c._raise("fileselectnone");if(c._resetErrors(),k=e.length,g=c._getFileCount(c.isUploadable?c.getFileStack().length+k:k),c.maxFileCount>0&&g>c.maxFileCount){if(!c.autoReplace||k>c.maxFileCount)return j=c.autoReplace&&k>c.maxFileCount?k:g,f=c.msgFilesTooMany.replace("{m}",c.maxFileCount).replace("{n}",j),c.isError=t(f,null,null,null),c.$captionContainer.find(".kv-caption-icon").hide(),c._setCaption("",!0),void c.$container.removeClass("file-input-new file-input-ajax-new");g>c.maxFileCount&&c._resetPreviewThumbs(m)}else!m||r?(c._resetPreviewThumbs(!1),r&&c.clearStack()):!m||0!==p||h.count(c.id)&&!c.overwriteInitial||c._resetPreviewThumbs(!0);c.isPreviewable?c._readFiles(e):c._updateFileDetails(1),c._showFolderError(s)},_abort:function(b){var c,d=this;return!(!d.ajaxAborted||"object"!=typeof d.ajaxAborted||void 0===d.ajaxAborted.message||(c=a.extend(!0,{},d._getOutData(),b),c.abortData=d.ajaxAborted.data||{},c.abortMessage=d.ajaxAborted.message,d.cancel(),d._setProgress(100,d.$progress,d.msgCancelled),d._showUploadError(d.ajaxAborted.message,c,"filecustomerror"),0))},_resetFileStack:function(){var b=this,c=0,d=[],e=[];b._getThumbs().each(function(){var f=a(this),g=f.attr("data-fileindex"),h=b.filestack[g];-1!==g&&(void 0!==h?(d[c]=h,e[c]=b._getFileName(h),f.attr({id:b.previewInitId+"-"+c,"data-fileindex":c}),c++):f.attr({id:"uploaded-"+$(),"data-fileindex":"-1"}))}),b.filestack=d,b.filenames=e},clearStack:function(){var a=this;return a.filestack=[],a.filenames=[],a.$element},updateStack:function(a,b){var c=this;return c.filestack[a]=b,c.filenames[a]=c._getFileName(b),c.$element},addToStack:function(a){var b=this;return b.filestack.push(a),b.filenames.push(b._getFileName(a)),b.$element},getFileStack:function(a){var b=this;return b.filestack.filter(function(b){return a?void 0!==b:void 0!==b&&null!==b})},lock:function(){var a=this;return a._resetErrors(),a.disable(),a.showRemove&&m(a.$container.find(".fileinput-remove"),"hide"),a.showCancel&&a.$container.find(".fileinput-cancel").removeClass("hide"),a._raise("filelock",[a.filestack,a._getExtraData()]),a.$element},unlock:function(a){var b=this;return void 0===a&&(a=!0),b.enable(),b.showCancel&&m(b.$container.find(".fileinput-cancel"),"hide"),b.showRemove&&b.$container.find(".fileinput-remove").removeClass("hide"),a&&b._resetFileStack(),b._raise("fileunlock",[b.filestack,b._getExtraData()]),b.$element},cancel:function(){var b,c=this,d=c.ajaxRequests,e=d.length;if(e>0)for(b=0;e>b;b+=1)c.cancelling=!0,d[b].abort();return c._setProgressCancelled(),c._getThumbs().each(function(){var b=a(this),d=b.attr("data-fileindex");b.removeClass("file-uploading"),void 0!==c.filestack[d]&&(b.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),b.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),c.unlock()}),c.$element},clear:function(){var b,c=this;return c.$btnUpload.removeAttr("disabled"),c._getThumbs().find("video,audio,img").each(function(){ba(a(this))}),c._resetUpload(),c.clearStack(),c._clearFileInput(),c._resetErrors(!0),c._raise("fileclear"),c._hasInitialPreview()?(c._showFileIcon(),c._resetPreview(),c._initPreviewDeletes(),c.$container.removeClass("file-input-new")):(c._getThumbs().each(function(){c._clearObjects(a(this))}),c.isUploadable&&(h.data[c.id]={}),c.$preview.html(""),b=!c.overwriteInitial&&c.initialCaption.length>0?c.initialCaption:"",c._setCaption(b),c.$caption.attr("title",""),m(c.$container,"file-input-new"),c._validateDefaultPreview()),0===c.$container.find(".file-preview-frame").length&&(c._initCaption()||c.$captionContainer.find(".kv-caption-icon").hide()),c._hideFileIcon(),c._raise("filecleared"),c.$captionContainer.focus(),c._setFileDropZoneTitle(),c.$element},reset:function(){var a=this;return a._resetPreview(),a.$container.find(".fileinput-filename").text(""),a._raise("filereset"),m(a.$container,"file-input-new"),(a.$preview.find(".file-preview-frame").length||a.isUploadable&&a.dropZoneEnabled)&&a.$container.removeClass("file-input-new"),a._setFileDropZoneTitle(),a.clearStack(),a.formdata={},a.$element},disable:function(){var a=this;return a.isDisabled=!0,a._raise("filedisabled"),a.$element.attr("disabled","disabled"),a.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),a.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),a._initDragDrop(),a.$element},enable:function(){var a=this;return a.isDisabled=!1,a._raise("fileenabled"),a.$element.removeAttr("disabled"),a.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),a.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),a._initDragDrop(),a.$element},upload:function(){var b,c,d,e=this,f=e.getFileStack().length,g={},h=!a.isEmptyObject(e._getExtraData());if(e.minFileCount>0&&e._getFileCount(f)<e.minFileCount)return void e._noFilesError(g);if(e.isUploadable&&!e.isDisabled&&(0!==f||h)){if(e._resetUpload(),e.$progress.removeClass("hide"),e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.lock(),e._setProgress(2),0===f&&h)return void e._uploadExtraOnly();if(d=e.filestack.length,e.hasInitData=!1,!e.uploadAsync)return e._uploadBatch(),e.$element;for(c=e._getOutData(),e._raise("filebatchpreupload",[c]),e.fileBatchCompleted=!1,e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadAsyncCount=e.getFileStack().length,b=0;d>b;b++)e.uploadCache.content[b]=null,e.uploadCache.config[b]=null,e.uploadCache.tags[b]=null;for(b=0;d>b;b++)void 0!==e.filestack[b]&&e._uploadSingle(b,e.filestack,!0)}},destroy:function(){var a=this,c=a.$container;return c.find(".file-drop-zone").off(),a.$element.insertBefore(c).off(b).removeData(),c.off().remove(),a.$element},refresh:function(b){var c=this,d=c.$element;return b=b?a.extend(!0,{},c.options,b):c.options,c.destroy(),d.fileinput(b),d.val()&&d.trigger("change.fileinput"),d}},a.fn.fileinput=function(b){if(j()||e(9)){var c=Array.apply(null,arguments),d=[];switch(c.shift(),this.each(function(){var e,f=a(this),g=f.data("fileinput"),h="object"==typeof b&&b,i=h.language||f.data("language")||"en",j={};g||("en"===i||W(a.fn.fileinputLocales[i])||(j=a.fn.fileinputLocales[i]),e=a.extend(!0,{},a.fn.fileinput.defaults,a.fn.fileinputLocales.en,j,h,f.data()),g=new U(this,e),f.data("fileinput",g)),"string"==typeof b&&d.push(g[b].apply(g,c))}),d.length){case 0:return this;case 1:return d[0];default:return d}}},a.fn.fileinput.defaults={language:"en",showCaption:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,autoReplace:!1,mainClass:"",previewClass:"",captionClass:"",mainTemplate:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:Q,previewTemplates:R,allowedPreviewTypes:null,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:T,fileTypeSettings:V,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-icon-4x",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="icon-folder"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="icon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class="icon-cross"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="icon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",previewFileType:"image",zoomIndicator:'<i class="glyphicon glyphicon-zoom-in"></i>',elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},a.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgCancelled:"Cancelled",msgZoomTitle:"View details",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",dropZoneTitle:"ここにドロップしてください"},a.fn.fileinput.Constructor=U,a(document).ready(function(){var b=a("input.file[type=file]");b.length&&b.fileinput()})});